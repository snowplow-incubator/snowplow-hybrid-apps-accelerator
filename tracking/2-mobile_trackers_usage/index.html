<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0" />
    <meta name="description" content="Tutorial for setting up tracking in mobile hybrid apps">
<meta name="author" content="Matus Tomlein">

    <link rel="icon" href="/snowplow-hybrid-apps-accelerator/images/favicon.png" type="image/png">

    <title>Configuring and using the iOS and Android trackers :: Snowplow Hybrid Apps Accelerator</title>

    
    <link href="/snowplow-hybrid-apps-accelerator/css/nucleus.css?1661505587" rel="stylesheet">
    <link href="/snowplow-hybrid-apps-accelerator/css/fontawesome-all.min.css?1661505587" rel="stylesheet">
    <link href="/snowplow-hybrid-apps-accelerator/css/hybrid.css?1661505587" rel="stylesheet">
    <link href="/snowplow-hybrid-apps-accelerator/css/featherlight.min.css?1661505587" rel="stylesheet">
    <link href="/snowplow-hybrid-apps-accelerator/css/perfect-scrollbar.min.css?1661505587" rel="stylesheet">
    <link href="/snowplow-hybrid-apps-accelerator/css/auto-complete.css?1661505587" rel="stylesheet">
    <link href="/snowplow-hybrid-apps-accelerator/css/atom-one-dark-reasonable.css?1661505587" rel="stylesheet">
    <link href="/snowplow-hybrid-apps-accelerator/css/theme.css?1661505587" rel="stylesheet">
    <link href="/snowplow-hybrid-apps-accelerator/css/tabs.css?1661505587" rel="stylesheet">
    <link href="/snowplow-hybrid-apps-accelerator/css/hugo-theme.css?1661505587" rel="stylesheet">
    
    

    <script src="/snowplow-hybrid-apps-accelerator/js/jquery-3.3.1.min.js?1661505587"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/snowplow-hybrid-apps-accelerator/tracking/2-mobile_trackers_usage/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://snowplow-incubator.github.io/snowplow-hybrid-apps-accelerator/">
    <img src="https://snowplow-incubator.github.io/snowplow-hybrid-apps-accelerator//images/logo.png" />
</a>
    </div>
    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/'>Introduction</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/snowplow-hybrid-apps-accelerator/tracking/" title="Tracking" class="dd-item
        parent
        
        
        ">
      <a href="/snowplow-hybrid-apps-accelerator/tracking/">
          <b>1. </b>Tracking
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/snowplow-hybrid-apps-accelerator/tracking/1-installation/" title="Installing the trackers" class="dd-item ">
        <a href="/snowplow-hybrid-apps-accelerator/tracking/1-installation/">
        Installing the trackers
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/snowplow-hybrid-apps-accelerator/tracking/2-mobile_trackers_usage/" title="Configuring and using the iOS and Android trackers" class="dd-item active">
        <a href="/snowplow-hybrid-apps-accelerator/tracking/2-mobile_trackers_usage/">
        Configuring and using the iOS and Android trackers
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/snowplow-hybrid-apps-accelerator/tracking/3-webview_usage/" title="Setting up tracking in Web views" class="dd-item ">
        <a href="/snowplow-hybrid-apps-accelerator/tracking/3-webview_usage/">
        Setting up tracking in Web views
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/snowplow-hybrid-apps-accelerator/modeling/" title="Modeling" class="dd-item
        
        
        
        ">
      <a href="/snowplow-hybrid-apps-accelerator/modeling/">
          <b>2. </b>Modeling
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://try.snowplowanalytics.com/">Try Snowplow</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/snowplow-hybrid-apps-accelerator/'></a> > <a href='/snowplow-hybrid-apps-accelerator/tracking/'>Tracking</a> > Configuring and using the iOS and Android trackers
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#tracking-events-in-native-code">Tracking events in native code</a></li>
    <li><a href="#subscribing-to-events-from-the-web-view">Subscribing to events from the Web view</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Configuring and using the iOS and Android trackers
            </h1>
          

        


<p>Having installed the tracker dependencies, the next step is to initialize the tracker instances in your app.
Tracker instances are initialized given configuration that includes network settings, tracker feature settings, session settings, and more.</p>
<p>The following snippets show how to initialize tracker instances using the default settings.
They call the <code>Snowplow.createTracker()</code> function and pass it two required information:</p>
<ol>
<li>The tracker namespace which uniquely identifies the tracker within the app.</li>
<li>Network configuration with the endpoint address of the Snowplow Collector (e.g., <a href="https://docs.snowplowanalytics.com/docs/understanding-your-pipeline/what-is-snowplow-micro/">Snowplow Micro</a> or <a href="https://docs.snowplowanalytics.com/docs/understanding-your-pipeline/what-is-snowplow-mini/">Snowplow Mini</a>) to send events to.</li>
</ol>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">SnowplowTracker</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> networkConfig = NetworkConfiguration(endpoint: COLLECTOR_URL, method: .post)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> tracker = Snowplow.createTracker(
</span></span><span style="display:flex;"><span>    namespace: <span style="color:#e6db74">&#34;appTracker&#34;</span>,
</span></span><span style="display:flex;"><span>    network: networkConfig,
</span></span><span style="display:flex;"><span>    configurations: []
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> com.snowplowanalytics.snowplow.Snowplow<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.snowplowanalytics.snowplow.network.HttpMethod<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.snowplowanalytics.snowplow.configuration.NetworkConfiguration<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>NetworkConfiguration networkConfig <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> NetworkConfiguration<span style="color:#f92672">(</span>COLLECTOR_URL<span style="color:#f92672">,</span> HttpMethod<span style="color:#f92672">.</span><span style="color:#a6e22e">POST</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>TrackerController tracker <span style="color:#f92672">=</span> Snowplow<span style="color:#f92672">.</span><span style="color:#a6e22e">createTracker</span><span style="color:#f92672">(</span>context<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;appTracker&#34;</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>   networkConfig
</span></span><span style="display:flex;"><span><span style="color:#f92672">);</span>
</span></span></code></pre></div><!-- raw HTML omitted -->
<p>You can learn more about installing and configuring the mobile trackers in <a href="https://docs.snowplowanalytics.com/docs/collecting-data/collecting-from-own-applications/mobile-trackers/mobile-trackers-v3-0/introduction/">the mobile tracker documentation</a>.</p>
<h2 id="tracking-events-in-native-code">Tracking events in native code</h2>
<p>The initialized tracker instances can be used to track events in your native code.
We won&rsquo;t go into detail on all the tracking features, but only give an example how to track self-describing events.
Self-describing events are based around &ldquo;self-describing&rdquo; (self-referential) JSONs, which are a specific kind of <a href="http://json-schema.org/">JSON schema</a>.
A unique schema can be designed for each type of event that you want to track.
This allows you to track the specific things that are important to you, in a way that is defined by you.</p>
<p>A self-describing JSON has two keys, schema and data.
The schema value should point to a valid self-describing JSON schema.
They are called self-describing because the schema will specify the fields allowed in the data value.
Read more about how schemas are used with Snowplow <a href="https://docs.snowplowanalytics.com/docs/understanding-tracking-design/understanding-schemas-and-validation/">here</a>.</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> schema = <span style="color:#e6db74">&#34;iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> data = [<span style="color:#e6db74">&#34;targetUrl&#34;</span>: <span style="color:#e6db74">&#34;http://a-target-url.com&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> event = SelfDescribing(schema: schema, payload: data)       
</span></span><span style="display:flex;"><span>tracker.track(event)
</span></span></code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String schema <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>Map data <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>data<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;targetUrl&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;http://a-target-url.com&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>SelfDescribingJson sdj <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SelfDescribingJson<span style="color:#f92672">(</span>schema<span style="color:#f92672">,</span> data<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>SelfDescribing event <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SelfDescribing<span style="color:#f92672">(</span>sdj<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>tracker<span style="color:#f92672">.</span><span style="color:#a6e22e">track</span><span style="color:#f92672">(</span>event<span style="color:#f92672">);</span>
</span></span></code></pre></div><!-- raw HTML omitted -->
<h2 id="subscribing-to-events-from-the-web-view">Subscribing to events from the Web view</h2>
<p>In addition to tracking events from the native code, we also want to track events from the Web view.
In the <a href="/snowplow-hybrid-apps-accelerator/tracking/3-webview_usage/">following section</a>, we will explain how to instrument your Web application to use the WebView tracker.
However, in order for the events from the WebView tracker to arrive at the Snowplow Collector, it is necessary to subscribe the native mobile trackers to listen for messages from the Web view.</p>
<p>You can call the <code>Snowplow.subscribeToWebViewEvents(webView)</code> function to subscribe to the messages (same on iOS and Android).
The <code>webView</code> object is an instance of <code>WKWebView</code> on iOS and <code>WebView</code> on Android.
Please note that the events will only be tracked if you have initialized a tracker instance as described above.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/snowplow-hybrid-apps-accelerator/tracking/1-installation/" title="Installing the trackers"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/snowplow-hybrid-apps-accelerator/tracking/3-webview_usage/" title="Setting up tracking in Web views" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/snowplow-hybrid-apps-accelerator/js/clipboard.min.js?1661505587"></script>
    <script src="/snowplow-hybrid-apps-accelerator/js/perfect-scrollbar.min.js?1661505587"></script>
    <script src="/snowplow-hybrid-apps-accelerator/js/perfect-scrollbar.jquery.min.js?1661505587"></script>
    <script src="/snowplow-hybrid-apps-accelerator/js/jquery.sticky.js?1661505587"></script>
    <script src="/snowplow-hybrid-apps-accelerator/js/featherlight.min.js?1661505587"></script>
    <script src="/snowplow-hybrid-apps-accelerator/js/highlight.pack.js?1661505587"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/snowplow-hybrid-apps-accelerator/js/modernizr.custom-3.6.0.js?1661505587"></script>
    <script src="/snowplow-hybrid-apps-accelerator/js/learn.js?1661505587"></script>
    <script src="/snowplow-hybrid-apps-accelerator/js/hugo-learn.js?1661505587"></script>
    
        
            <script src="https://unpkg.com/browse/mermaid@8.1.0/dist/mermaid.min.js"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

